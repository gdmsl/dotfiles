[general]
accounts = gmail,outlook,uds,uds-etu
ui = basic
pythonfile = ~/.local/bin/offlineimap.py

[Account gmail]
localrepository = gmail-local
remoterepository = gmail-remote
status_backend = sqlite

[Repository gmail-local]
type = Maildir
sep = /
localfolders = ~/var/mail/gmail
nametrans = lambda s: { 'starred'   : '[Gmail]/Starred',
                        'trash'     : '[Gmail]/Trash',
                        'spam'      : '[Gmail]/Spam',
                        'sent'      : '[Gmail]/Sent Mail',
                        'important' : '[Gmail]/Important',
                        'drafts'    : '[Gmail]/Drafts',
                        'archive'   : '[Gmail]/All Mail',
                        'inbox'     : 'INBOX',
                      }.get (s, s)

[Repository gmail-remote]
type = Gmail
sslcacertfile = /etc/ssl/certs/ca-certificates.crt
realdelete = no
remoteuser = guido.masella@gmail.com
remotepasseval = get_pass("mail-gmail.gpg")
auth_mechanisms = LOGIN
nametrans = lambda s: { '[Gmail]/Starred'   : 'flagged',
                        '[Gmail]/Trash'     : 'trash',
                        '[Gmail]/Spam'      : 'spam',
                        '[Gmail]/Sent Mail' : 'sent',
                        '[Gmail]/Important' : 'important',
                        '[Gmail]/Drafts'    : 'drafts',
                        '[Gmail]/All Mail'  : 'archive',
                        'INBOX'             : 'inbox',
                      }.get (s, s)
folderfilter = lambda folder: folder not in ['[Gmail]/All Mail',
                                             '[Gmail]/Important',
                                             '[Gmail]/Starred',
											]

[Account outlook]
localrepository = outlook-local
remoterepository = outlook-remote
status_backend = sqlite

[Repository outlook-local]
type = Maildir
sep = /
localfolders = ~/var/mail/outlook
nametrans = lambda s: re.sub (' ', '_', s.capitalize())

[Repository outlook-remote]
type = IMAP
sslcacertfile = /etc/ssl/certs/ca-certificates.crt
realdelete = no
remotehost = imap-mail.outlook.com
remoteuser = guido.masella@live.com
remotepasseval = get_pass("mail-outlook.gpg")
auth_mechanisms = LOGIN
nametrans = lambda s: re.sub (' ', '_', s.lower())

[Account uds]
localrepository = uds-local
remoterepository = uds-remote
status_backend = sqlite

[Repository uds-local]
type = Maildir
sep = /
localfolders = ~/var/mail/uds
nametrans = lambda s: { 'trash'   : 'INBOX/Trash',
                        'sent'    : 'INBOX/Sent',
                        'drafts'  : 'INBOX/Drafts',
                        'inbox'   : 'INBOX',
                        'ml/unistra-personnels' : 'INBOX/ml/unistra-personnels',
                        'ml/formation-continue' : 'INBOX/ml/formation-continue',
                        'ml/infos-syndicats' : 'INBOX/ml/infos-syndicats',
                      }.get (s, s)

[Repository uds-remote]
type = IMAP
sslcacertfile = /etc/ssl/certs/ca-certificates.crt
realdelete = no
remotehost = mailserver.u-strasbg.fr
remoteuser = masella
remotepasseval = get_pass("mail-uds.gpg")
auth_mechanisms = LOGIN
nametrans = lambda s: { 'INBOX/Trash'   : 'trash',
                        'INBOX/Sent'   : 'sent',
                        'INBOX/Drafts'   : 'drafts',
                        'INBOX'   : 'inbox',
                        'INBOX/ml/unistra-personnels' : 'ml/unistra-personnels',
                        'INBOX/ml/formation-continue' : 'ml/formation-continue',
                        'INBOX/ml/infos-syndicats' : 'ml/infos-syndicats',
                      }.get (s, s)

[Account uds-etu]
localrepository = uds-etu-local
remoterepository = uds-etu-remote
status_backend = sqlite

[Repository uds-etu-local]
type = Maildir
sep = /
localfolders = ~/var/mail/uds-etu
nametrans = lambda s: { 'trash'   : 'INBOX/Trash',
                        'inbox'   : 'INBOX',
                        'sent'    : 'INBOX/Sent',
                        'drafts'  : 'INBOX/Drafts',
                      }.get (s, s)

[Repository uds-etu-remote]
type = IMAP
sslcacertfile = /etc/ssl/certs/ca-certificates.crt
realdelete = no
remotehost = mailserver.u-strasbg.fr
remoteuser = gmasella
remotepasseval = get_pass("mail-uds-etu.gpg")
auth_mechanisms = LOGIN
nametrans = lambda s: { 'INBOX/Trash'   : 'trash',
                        'INBOX'   : 'inbox',
                        'INBOX/Sent'   : 'sent',
                        'INBOX/Drafts'   : 'drafts',
                      }.get (s, s)

[mbnames]
enabled = yes
filename = ~/.mutt/mailboxes
header = "mailboxes "
peritem = "+%(accountname)s/%(foldername)s"
sep = " "
footer = "\n"

