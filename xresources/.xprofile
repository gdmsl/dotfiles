#!/bin/sh
#
# ~/.xprofile
#

# sourcing all files in ~/.xprofile.d
if [ -d $HOME/.xprofile.d ]; then
  for f in $HOME/.xprofile.d/*; do
    if [ -x "$f" ]; then
        source "$f"
    fi
  done
  unset f
fi

# disable mouse acceleration
if [ "$HOSTNAME" != "rubick" ]; then
    xset m 0 0
fi

# Loading default xlayout
if [ -e ~/.screenlayout/default.sh ]; then
    ~/.screenlayout/default.sh
fi

# new keyboard bindings
if [ -e ~/.xbindkeysrc ]; then
    xbindkeys
fi

# Mozilla configurations
export MOZ_USE_OMTC=1

# use webrenderer everywhere but not at work
if [ $HOSTNAME != "tachanka" ]; then
    export MOZ_X11_EGL=1
    export MOZ_WEBRENDER=1
fi

if [ $DESKTOP_SESSION == "i3" ]; then
    # QT5 style
    export QT_QPA_PLATFORMTHEME=qt5ct

    # KDE wallet for SSH
    export SSH_ASKPASS='/usr/bin/ksshaskpass'
fi

# GTK2 Config files
export GTK2_RC_FILES="$HOME/.gtkrc-2.0"

export GTK_USE_PORTAL=1
